<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Slided images</title>
	<style type="text/css">
		/* Existing CSS for .top-bar, .title-bar, .logo, .quick-links, .login-link */
		/* ... (your existing CSS for these elements) ... */

		.top-bar {
		    width: 100%;
		    display: flex;
		    flex-direction: column;
		    color: hsla(240, 70%, 20%, 1.0);
		    position: sticky;
		    top: 0;
		    z-index: 200;
		}

		.top-bar h1 { /* If you have an h1 inside top-bar, otherwise ignore */
		    font-size: 22px;
		}

		.title-bar {
		    width: 100%;
		    display: flex;
		    flex-direction: row;
		    background-color: #fff;
		    align-items: center; /* Added to vertically align logo and quick-links */
		}

		.logo {
		    /* Adjusted width to allow quick-links to take more space on larger screens */
		    width: auto; /* Allow content to dictate width */
		    flex-grow: 1; /* Allows logo to grow and push quick-links to the right */
		    display: flex;
		    flex-direction: row;
		    gap: 20px;
		    padding: 10px 20px;
		}

		.quick-links {
		    /* Adjusted width */
		    width: auto;
		    padding: 10px 20px;
		    text-align: right;
		    flex-shrink: 0; /* Prevent quick-links from shrinking too much */
		}

		.login-link {
		    list-style: none;
		    margin: 0; /* Remove default ul margin */
		    padding: 0; /* Remove default ul padding */
		}

		.login-link li a {
		    text-decoration: none;
		    color: hsla(240, 70%, 20%, 1.0);
		    display: flex; /* Added for icon alignment */
		    align-items: center; /* Added for icon alignment */
		    gap: 5px; /* Spacing between icon and text */
		}

		.nav {
		    background-color: hsla(240, 70%, 20%, 1.0);
		    display: flex;
		    justify-content: flex-end;
		    padding: 10px 10px;
		    height: 40px; /* This height might change when nav-links are expanded on mobile */
		    align-items: center; /* Align items vertically in the nav bar */
		}

		.nav-links {
		    list-style: none;
		    display: flex; /* Default for desktop */
		    gap: 30px;
		    position: relative;
		    margin: 0; /* Remove default ul margin */
		    padding: 0; /* Remove default ul padding */
		    width: auto; /* Allow content to dictate width */
		}

		.nav-links li {
		    display: block; /* Each list item is a block */
		}

		.nav-links li a {
		    text-decoration: none;
		    color: #fff;
		    white-space: nowrap;
		    padding: 5px 0; /* Add some padding for better click/hover area */
		    display: block; /* Make sure the entire li area is clickable/hoverable */
		}

		.nav-links li a:hover {
		    color: #ff0;
		}

		/*Sub-links initial hidden state*/
		.sub-links {
		    list-style: none;
		    position: absolute;
		    top: 100%;
		    left: 0; /* Ensure sub-links align with parent */
		    background-color: hsla(240, 70%, 20%, 1.0);
		    display: none; /* Controlled by JS/CSS for hover/click */
		    visibility: hidden;
		    opacity: 0;
		    transition: all 0.3s ease-in-out;
		    z-index: 10;
		    line-height: 2.5em;
		    min-width: 180px; /* Changed from 40% to fixed min-width for better control */
		    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2); /* Added shadow for visual depth */
		}

		.sub-links li {
		    display: block;
		}

		.sub-links li a {
		    padding: 0px 15px; /* Increased padding */
		    display: block;
		}

		.nav-links li:hover > .sub-links {
		    display: block;
		    visibility: visible;
		    opacity: 1;
		}

		.sub-links li:hover {
		    background-color: hsla(360, 100%, 100%, 0.3);
		    border-bottom: 1px solid #fff; /* This border might look odd on last item, consider `padding-bottom` on a, or `border-bottom` on all li, except last-child */
		}

		.sub-links2 {
		    list-style: none;
		    position: absolute;
		    top: 0; /* Adjusted: Align with parent sub-link */
		    left: 100%; /* Position to the right of parent sub-link */
		    background-color: hsla(240, 70%, 20%, 1.0);
		    min-width: 180px; /* Consistent width */
		    display: none;
		    visibility: hidden;
		    opacity: 0;
		    transition: all 0.3s ease-in-out;
		    z-index: 20;
		    line-height: 2.5em;
		    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
		}

		.sub-links2 li {
		    display: block;
		}

		.sub-links2 li a {
		    text-decoration: none;
		    padding: 0px 15px; /* Consistent padding */
		    display: block;
		}

		/* This rule needs to target the direct parent hover */
		.sub-links li:hover > .sub-links2 { /* Corrected selector for nested sub-menu */
		    display: block;
		    visibility: visible;
		    opacity: 1;
		}

		/* Hamburger Toggle Button Styling */
		.toggle-btn {
		    display: none; /* Hidden by default on large screens */
		    flex-direction: column;
		    justify-content: space-around;
		    width: 30px;
		    height: 25px;
		    cursor: pointer;
		    position: absolute; /* Position relative to .nav */
		    right: 20px; /* Adjust as needed */
		    z-index: 30; /* Ensure it's above other elements */
		}

		.toggle-btn span {
		    display: block;
		    width: 100%;
		    height: 3px;
		    background-color: #fff;
		    border-radius: 5px;
		    transition: all 0.3s ease-in-out;
		}

		/* Active state for hamburger animation (optional) */
		.toggle-btn.active span:nth-child(1) {
		    transform: translateY(11px) rotate(45deg);
		}
		.toggle-btn.active span:nth-child(2) {
		    opacity: 0;
		}
		.toggle-btn.active span:nth-child(3) {
		    transform: translateY(-11px) rotate(-45deg);
		}


		/* Media Query for Small Screens */
		@media (max-width: 768px) { /* Adjust breakpoint as needed */
		    .title-bar {
		        flex-wrap: wrap; /* Allow content to wrap */
		        justify-content: space-between; /* Space out logo and quick-links */
		    }

		    .logo {
		        flex-grow: 0; /* Don't let logo grow */
		    }

		    .quick-links {
		        flex-grow: 1; /* Allow quick-links to take remaining space */
		        text-align: right;
		        padding-right: 0; /* Remove extra padding if needed */
		    }
		    .login-link li a {
		        font-size: 14px; /* Adjust font size for smaller screens */
		    }

		    .nav {
		        justify-content: flex-start; /* Or remove to let toggle-btn position control */
		        padding: 0; /* Remove padding for tighter control */
		        height: auto; /* Auto height to accommodate menu when open */
		        min-height: 40px; /* Keep minimum height for nav background */
		        position: relative; /* Essential for toggle-btn absolute positioning */
		    }

		    .toggle-btn {
		        display: flex; /* Show hamburger menu on small screens */
		        top: 50%;
		        transform: translateY(-50%);
		    }

		    .nav-links {
		        flex-direction: column; /* Stack links vertically */
		        width: 100%; /* Take full width */
		        background-color: hsla(240, 70%, 20%, 1.0); /* Ensure background covers */
		        position: absolute; /* Position below the top part of nav */
		        top: 100%; /* Position right below the toggle-btn / nav area */
		        left: 0;
		        padding: 10px 0; /* Add vertical padding */
		        border-top: 1px solid rgba(255, 255, 255, 0.2);
		        display: none; /* Hidden by default for mobile */
		        max-height: 0; /* Used for smooth slide effect */
		        overflow: hidden; /* Hide overflow during slide */
		        transition: max-height 0.3s ease-out, opacity 0.3s ease-out; /* Smooth transition */
		        opacity: 0;
		        z-index: 5; /* Ensure it's above content below, but below toggle-btn */
		    }

		    .nav-links.active { /* Class added by JS when menu is open */
		        display: flex; /* Show as flex column */
		        max-height: 500px; /* Adjust to be larger than content for smooth slide */
		        opacity: 1;
		    }

		    .nav-links li {
		        text-align: left; /* Align text to the left */
		        width: 100%;
		        padding: 5px 20px; /* Add padding for touch targets */
		    }

		    .nav-links li a {
		        padding: 10px 0; /* Adjust padding for mobile links */
		        width: 100%; /* Make entire link area clickable */
		        box-sizing: border-box; /* Include padding in width */
		    }

		    /* Sub-links for mobile: Display vertically below parent */
		    .sub-links, .sub-links2 {
		        position: static; /* Remove absolute positioning */
		        width: 100%; /* Take full width of parent list item */
		        background-color: rgba(240, 70%, 20%, 0.9); /* Slightly lighter background for distinction */
		        box-shadow: none; /* No shadow for nested mobile menus */
		        padding-left: 20px; /* Indent sub-links */
		        display: none; /* Hidden by default */
		        visibility: visible; /* Override hidden visibility from desktop */
		        opacity: 1; /* Override opacity from desktop */
		        transition: none; /* No transition needed for mobile click open */
		    }

		    /* For mobile, sub-links appear on click/active state of parent li (handled by JS) */
		    .nav-links li:hover > .sub-links, /* Keep hover for desktop, but for mobile we'll use JS for click */
		    .sub-links li:hover > .sub-links2 {
		        display: none; /* Override desktop hover behavior on mobile */
		    }

		    /* New classes for mobile active sub-menus (controlled by JS) */
		    .nav-links li.active > .sub-links,
		    .sub-links li.active > .sub-links2 {
		        display: block; /* Show sub-menus when parent is active */
		    }

		    .sub-links li a, .sub-links2 li a {
		        padding: 8px 0; /* Adjust padding for sub-links */
		        white-space: normal; /* Allow text to wrap */
		    }

		    .sub-links li, .sub-links2 li {
		        padding-right: 0; /* Remove right padding to prevent overflow */
		    }

		    .sub-links li:hover, .sub-links2 li:hover {
		        background-color: rgba(255, 255, 255, 0.2); /* Lighter hover for mobile */
		        border-bottom: none; /* Remove border */
		    }
		}
	</style>
</head>
<body>
	<header class="top-bar">
			<div class="title-bar">
				<div class="logo">
					<img src="images/p4w wn logo.png" width="120px" height="50px" alt="Company logo">
				</div>
				<div class="quick-links">
					<ul class="login-link">
						<li><a href="login.html"><i class="fa-solid fa-user"></i>Login</a></li>
					</ul>
				</div>
			</div>
			<nav class="nav">
				<div class="toggle-btn">
					<span></span> 
					<span></span>
					<span></span>
				</div>
				<ul class="nav-links">
					<li><a href="#"><i class="fa-solid fa-house"></i> Home</a></li>
					<li><a href="#">About us</a>
						<ul class="sub-links">
							<li><a href="#">Our background</a></li>
							<li><a href="#">What we do</a></li>
							<li><a href="#">Where we work</a></li>
							<li><a href="#">Our support</a>
								<ul class="sub-links2">
									<li><a href="#">Networks/Fora</a></li>
									<li><a href="#">Donors</a></li>
								</ul>
							</li>
							<li><a href="#">Our team</a>
								<ul class="sub-links2">
									<li><a href="#">Staff</a></li>
									<li><a href="#">Board</a></li>
								</ul>
							</li>
						</ul>
					</li>
					<li><a href="#">News</a></li>
					<li><a href="#">Projects</a>
						<ul class="sub-links">
							<li><a href="#">Ongoing</a></li>
							<li><a href="#">Completed</a></li>
						</ul>
					</li>
					<li><a href="#">Support us</a></li>
					<li><a href="#">Awards</a></li>
					<li><a href="#">Opportunities</a>
						<ul class="sub-links">
							<li><a href="#">Job</a></li>
							<li><a href="#">Business</a></li>
						</ul>
					</li>
					<li><a href="contact-us.html">Contact us</a></li>
				</ul>
			</nav>
		</header>
	<script type="text/javascript">
		document.addEventListener('DOMContentLoaded', () => {
	    const toggleBtn = document.querySelector('.toggle-btn');
	    const navLinks = document.querySelector('.nav-links');

	    // Toggle main navigation menu on hamburger click
	    toggleBtn.addEventListener('click', () => {
	        navLinks.classList.toggle('active');
	        toggleBtn.classList.toggle('active'); // For hamburger animation
	    });

	    // Handle sub-menu clicks for mobile
	    // Select all main nav list items that have sub-links
	    const navItemsWithSubLinks = document.querySelectorAll('.nav-links > li');

	    navItemsWithSubLinks.forEach(item => {
	        // Check if the list item actually contains a .sub-links ul
	        const subLinks = item.querySelector('.sub-links');
	        if (subLinks) {
	            // Get the immediate anchor tag child (e.g., 'About us')
	            const mainLink = item.querySelector('a');

	            // Prevent default link behavior if it's meant to open a sub-menu
	            // This is a common pattern for parent links that don't go anywhere
	            // but instead trigger the sub-menu. If 'About us' *should* go to a page,
	            // you'd need a different approach (e.g., a separate arrow icon to toggle).
	            mainLink.addEventListener('click', (event) => {
	                // Check if we are on a small screen
	                if (window.innerWidth <= 768) { // Match your CSS media query breakpoint
	                    event.preventDefault(); // Stop the link from navigating
	                    item.classList.toggle('active'); // Toggle 'active' class on parent li

	                    // Close other open sub-menus at the same level
	                    navItemsWithSubLinks.forEach(otherItem => {
	                        if (otherItem !== item && otherItem.classList.contains('active')) {
	                            otherItem.classList.remove('active');
	                            const otherSubLinks = otherItem.querySelector('.sub-links');
	                            if (otherSubLinks) {
	                                otherSubLinks.querySelectorAll('li.active').forEach(nestedItem => {
	                                    nestedItem.classList.remove('active');
	                                });
	                            }
	                        }
	                    });
	                }
	            });
	        }
	    });

	    // Handle nested sub-menu clicks (sub-links2) for mobile
	    const subLinkItemsWithSubLinks2 = document.querySelectorAll('.sub-links > li');

	    subLinkItemsWithSubLinks2.forEach(item => {
	        const subLinks2 = item.querySelector('.sub-links2');
	        if (subLinks2) {
	            const nestedLink = item.querySelector('a');
	            nestedLink.addEventListener('click', (event) => {
	                if (window.innerWidth <= 768) { // Match your CSS media query breakpoint
	                    event.preventDefault();
	                    item.classList.toggle('active');

	                    // Close other open sub-menus at the same level (sub-links2)
	                    subLinkItemsWithSubLinks2.forEach(otherItem => {
	                        if (otherItem !== item && otherItem.classList.contains('active')) {
	                            otherItem.classList.remove('active');
	                        }
	                    });
	                }
	            });
	        }
	    });

	    // Optional: Close menu when clicking outside
	    document.addEventListener('click', (event) => {
	        // Check if the click is outside the nav and not on the toggle button
	        if (!navLinks.contains(event.target) && !toggleBtn.contains(event.target) && navLinks.classList.contains('active')) {
	            navLinks.classList.remove('active');
	            toggleBtn.classList.remove('active');
	            // Also close all open sub-menus when the main menu closes
	            document.querySelectorAll('.nav-links li.active').forEach(item => {
	                item.classList.remove('active');
	            });
	        }
	    });

	    // Optional: Close menu if window is resized above mobile breakpoint
	    let isMobile = window.innerWidth <= 768;
	    window.addEventListener('resize', () => {
	        const wasMobile = isMobile;
	        isMobile = window.innerWidth <= 768;

	        // If we transition from mobile to desktop
	        if (wasMobile && !isMobile) {
	            navLinks.classList.remove('active'); // Ensure menu is closed
	            toggleBtn.classList.remove('active'); // Reset hamburger icon
	            // Also ensure all sub-menus are closed when resizing to desktop
	            document.querySelectorAll('.nav-links li.active').forEach(item => {
	                item.classList.remove('active');
	            });
	        }
	    });
	});
	</script>
</body>
</html>